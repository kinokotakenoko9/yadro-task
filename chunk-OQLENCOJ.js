import{a as T,b as U,c as D}from"./chunk-TO3O4XJ7.js";import{l as V,q as I,r as O}from"./chunk-RCXZSREC.js";import{W as w}from"./chunk-ONSD75YP.js";import{j as z,k as E}from"./chunk-7F4HVMRG.js";import{c as M,e as S,f as F,n as x,p as N}from"./chunk-SKPMI7PC.js";import"./chunk-BQGYG2QW.js";import{$b as a,Fb as f,I as u,Lb as _,Qb as C,Rb as v,Wb as b,Zb as g,_ as c,la as o,o as p,pc as h,qc as y,sb as l,wa as m,xa as s,yb as d}from"./chunk-26RAPLNY.js";function j(i,r){if(i&1){let e=b();C(0,"app-user-form",1),g("formSubmitted",function(t){m(e);let R=a();return s(R.formSubmitted(t))})("formCancelled",function(){m(e);let t=a();return s(t.formCancelled())}),v()}i&2&&f("user",r)("mode","edit")}var P=class i{route=o(x);userService=o(E);message=o(O);router=o(N);location=o(M);user;ngOnInit(){this.user=this.route.paramMap.pipe(c(r=>{let e=Number(r.get("id"));return this.userService.get(e).pipe(u(n=>(this.router.navigate(["/404"]),p)))}))}formSubmitted(r){this.userService.update(r).subscribe({next:e=>{this.message.success(`User '${r.name}' updated successfully`),this.router.navigate(["/users"])},error:e=>{this.message.error("Failed to update user. Try again")}})}formCancelled(){this.location.back()}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=l({type:i,selectors:[["app-form"]],decls:2,vars:3,consts:[[3,"user","mode"],[3,"formSubmitted","formCancelled","user","mode"]],template:function(e,n){if(e&1&&(d(0,j,1,2,"app-user-form",0),h(1,"async")),e&2){let t;_((t=y(1,1,n.user))?0:-1,t)}},dependencies:[w,z,T,U,V,I,D,F,S],encapsulation:2})};export{P as FormComponent};
